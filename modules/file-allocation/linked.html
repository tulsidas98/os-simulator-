<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Linked</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link rel="apple-touch-icon" sizes="180x180" href="../../../../assets/img/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../../assets/img/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../../assets/img/favicons/favicon-16x16.png">
  <link rel="manifest" href="../../assets/img/favicons/site.webmanifest">
  <link rel="mask-icon" href="../../assets/img/favicons/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="../../assets/img/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-config" content="../../assets/img/favicons/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
    rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="../../assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="../../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="../../assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="../../assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="../../assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="../../assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="../../assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="./../../assets/css/style.css" rel="stylesheet">

  <!-- EXTRA LINKS -->

  <link rel="stylesheet" href="./bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=PT+Sans" rel="stylesheet">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

  <!-- =======================================================
  * Template Name: Vesperr - v4.7.0
  * Template URL: https://bootstrapmade.com/vesperr-free-bootstrap-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->

  <!-- SCRIPT FOR THE PAGE-->
  <br>
  <title>Sequential Allocation</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OS Simulator</title>
  <meta name="description" content="Nifty Modal Window Effects with CSS Transitions and Animations" />
  <meta name="keywords"
    content="modal, window, overlay, modern, box, css transition, css animation, effect, 3d, perspective" />
  <meta name="author" content="Codrops" />
  <link rel="shortcut icon" href="../favicon.ico">
  <!-- <link rel="stylesheet" type="text/css" href="../Index Page/css/default.css" /> -->
  <!-- <link rel="stylesheet" type="text/css" href="../Index Page/css/component.css" /> -->
  <script src="js/modernizr.custom.js"></script>

  <style>
    .s_hide {
      display: none;
    }

    .s_show {
      display: block;
    }

    .some {
      background-color: white;
      color: black;
    }

    input {
      width: 10%;
      padding: 12px 20px;
      margin: 8px 0;
      box-sizing: border-box;
      border: none;
      background-color: white;
      color: black;
      border: 1px solid black;

    }

    .anchor,
    .anchor1 {
      background-color: black;
      /* Green */
      border: none;
      color: white;
      padding: 12px 20px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin: 8px 0;
      -webkit-transition-duration: 0.4s;
      /* Safari */
      transition-duration: 0.4s;
      cursor: pointer;

    }


    .style1 {
      background-color: white;
      color: black;
    }


    .button1 {
      background-color: black;
      /* Green */
      border: none;
      color: white;
      padding: 12px 20px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin: 8px 0;
      -webkit-transition-duration: 0.4s;
      /* Safari */
      transition-duration: 0.4s;
      cursor: pointer;
    }



    .button1:hover {
      background-color: #D3D3D3;
      color: black;
    }

    .a1 {

      border: none;
      margin: 8px 0;
      border: solid 2px white;
      background-color: yellow;
      text-align: center;
      font-weight: bold;
      font-size: 16px;

    }

    body {
      background: white;
      color: black;
    }

    .out {
      background-color: grey;
      color: black;
    }
  </style>
</head>



<body onload="initialise()">

  <header id="header" class="fixed-top d-flex align-items-center">
    <div class="container d-flex align-items-center justify-content-between">

      <div class="logo">
        <h1><a href="index.html">OS Mini Project</a></h1>
        <h3>Group 14</h3>
        <!-- Uncomment below if you prefer to use an image logo -->
        <!-- <a href="index.html"><img src="../../assets/img/logo.png" alt="" class="img-fluid"></a>-->
      </div>

      <nav id="navbar" class="navbar">
        <ul>
          <a class="nav-link scrollto " href="/index.html">Home</a>

      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->


  <div class="container" style="margin-top: 150px;">
    <!-- <marquee class="some" behavior="alternate" scrollamount=10 align="center"> -->
    <h1 align="center" class="some">Linked Scheduling</h1>
    <!-- </marquee> -->
    <p> Enter the number of files </p>
    <input id="nof" type="number" class = "form-control">

    <p> Enter the block size </p>
    <input id="blockSiz" type="number" class = "form-control">

    <button class="button1" onclick="show_fields()">OK</button>

    <!-- =======================input fields =================================-->
    <form class="s_hide">
      <p> Your First File </p>
      Starting Block: <input id="file_no" type="number">
      Enter the size of the file: <input type="number">
      <!-- Enter the size of the block: <input type="number"> -->
      <div class="anchor" onclick="inside_form(0)">
        <a>DONE</a>
      </div align="left">
      <ul>
        <li class="s_hide"> Block_1: <input type="number"></li>
        <li class="s_hide"> Block_2: <input type="number"></li>
        <li class="s_hide"> Block_3: <input type="number"></li>
        <li class="s_hide"> Block_4: <input type="number"></li>
        <li class="s_hide"> Block_5: <input type="number"></li>
        <li class="s_hide"> Block_6: <input type="number"></li>
        <li class="s_hide"> Block_7: <input type="number"></li>
        <li class="s_hide"> Block_8: <input type="number"></li>
        <li class="s_hide"> Block_9: <input type="number"></li>
        <li class="s_hide"> Block_10:<input type="number"></li>
      </ul>
      <div class="anchor" onclick="allocate(0)">
        <a>ALLOCATE</a>
      </div>
      <div class="anchor1" onclick="del(0)">
        <a>DELETE</a>
      </div>
      <p class="frag_place" style="background-color: white ;color:black"></p><br>

    </form>

    <form class="s_hide">
      <p> Your Second File </p>
      Starting block: <input id="file_no" type="number">
      Enter the size of the file: <input type="number">
      <!-- Enter the size of the block: <input type="number"> -->
      <div class="anchor" onclick="inside_form(1)">
        <a>DONE</a>
      </div>
      <ul>
        <li class="s_hide"> Block_1: <input type="number"></li>
        <li class="s_hide"> Block_2: <input type="number"></li>
        <li class="s_hide"> Block_3: <input type="number"></li>
        <li class="s_hide"> Block_4: <input type="number"></li>
        <li class="s_hide"> Block_5: <input type="number"></li>
        <li class="s_hide"> Block_6: <input type="number"></li>
        <li class="s_hide"> Block_7: <input type="number"></li>
        <li class="s_hide"> Block_8: <input type="number"></li>
        <li class="s_hide"> Block_9: <input type="number"></li>
        <li class="s_hide"> Block_10:<input type="number"></li>
      </ul>
      <div class="anchor" onclick="allocate(1)">
        <a>ALLOCATE</a>
      </div>
      <div class="anchor1" onclick="del(1)">
        <a>DELETE</a>
      </div>
      <p class="frag_place" style="background-color: black ;color:white"></p><br>

    </form>

    <form class="s_hide">
      <p> Your Third File </p>
      Starting block: <input id="file_no" type="number">
      Enter the size of the file: <input type="number">
      <!-- Enter the size of the block: <input type="number"> -->
      <div class="anchor">
        <a onclick="inside_form(2)">DONE</a>
      </div>
      <ul>
        <li class="s_hide"> Block_1: <input type="number"></li>
        <li class="s_hide"> Block_2: <input type="number"></li>
        <li class="s_hide"> Block_3: <input type="number"></li>
        <li class="s_hide"> Block_4: <input type="number"></li>
        <li class="s_hide"> Block_5: <input type="number"></li>
        <li class="s_hide"> Block_6: <input type="number"></li>
        <li class="s_hide"> Block_7: <input type="number"></li>
        <li class="s_hide"> Block_8: <input type="number"></li>
        <li class="s_hide"> Block_9: <input type="number"></li>
        <li class="s_hide"> Block_10:<input type="number"></li>
      </ul>
      <div class="anchor" onclick="allocate(2)">
        <a>ALLOCATE</a>
      </div>
      <div class="anchor1" onclick="del(2)">
        <a>DELETE</a>
      </div>
      <p class="frag_place" style="background-color: black ;color:white"></p><br>

    </form>

    <form class="s_hide">
      <p> Your Fourth File </p>
      Strating block: <input id="file_no" type="number">
      Enter the size of the file: <input type="number">
      <!-- Enter the size of the block: <input type="number"> -->
      <div class="anchor">
        <a onclick="inside_form(3)">DONE</a>
      </div>
      <ul>
        <li class="s_hide"> Block_1: <input type="number"></li>
        <li class="s_hide"> Block_2: <input type="number"></li>
        <li class="s_hide"> Block_3: <input type="number"></li>
        <li class="s_hide"> Block_4: <input type="number"></li>
        <li class="s_hide"> Block_5: <input type="number"></li>
        <li class="s_hide"> Block_6: <input type="number"></li>
        <li class="s_hide"> Block_7: <input type="number"></li>
        <li class="s_hide"> Block_8: <input type="number"></li>
        <li class="s_hide"> Block_9: <input type="number"></li>
        <li class="s_hide"> Block_10:<input type="number"></li>
      </ul>
      <div class="anchor">
        <a onclick="allocate(3)">ALLOCATE</a>
      </div>
      <div class="anchor1" onclick="del(3)">
        <a>DELETE</a>
      </div>
      <p class="frag_place" style="background-color: black ;color:white"></p><br>
    </form>

    <form class="s_hide">
      <p> Your Fifth File </p>
      Starting block: <input id="file_no" type="number">
      Enter the size of the file: <input type="number">
      <!-- Enter the size of the block: <input type="number"> -->
      <div class="anchor">
        <a onclick="inside_form(4)">DONE</a>
      </div>
      <ul>
        <li class="s_hide"> Block_1: <input type="number"></li>
        <li class="s_hide"> Block_2: <input type="number"></li>
        <li class="s_hide"> Block_3: <input type="number"></li>
        <li class="s_hide"> Block_4: <input type="number"></li>
        <li class="s_hide"> Block_5: <input type="number"></li>
        <li class="s_hide"> Block_6: <input type="number"></li>
        <li class="s_hide"> Block_7: <input type="number"></li>
        <li class="s_hide"> Block_8: <input type="number"></li>
        <li class="s_hide"> Block_9: <input type="number"></li>
        <li class="s_hide"> Block_10:<input type="number"></li>
      </ul>
      <div class="anchor">
        <a onclick="allocate(4)">ALLOCATE</a>
      </div>
      <div class="anchor1" onclick="del(4)">
        <a>DELETE</a>
      </div>
      <p class="frag_place" style="background-color: black ;color:white"></p><br>
    </form>

    <form class="s_hide">
      <p> Your Sixth File </p>
      Starting block: <input id="file_no" type="number">
      Enter the size of the file: <input type="number">
      Enter the size of the block: <input type="number">
      <div class="anchor">
        <a onclick="inside_form(5)">ok</a>
      </div>
      <ul>
        <li class="s_hide"> Block_1:<input type="number"></li>
        <li class="s_hide"> Block_2:<input type="number"></li>
        <li class="s_hide"> Block_3:<input type="number"></li>
        <li class="s_hide"> Block_4:<input type="number"></li>
        <li class="s_hide"> Block_5:<input type="number"></li>
        <li class="s_hide"> Block_6:<input type="number"></li>
        <li class="s_hide"> Block_7:<input type="number"></li>
        <li class="s_hide"> Block_8:<input type="number"></li>
        <li class="s_hide"> Block_9:<input type="number"></li>
        <li class="s_hide"> Block_10:<input type="number"></li>
      </ul>
      <div class="anchor">
        <a onclick="allocate(5)">ALLOCATE</a>
      </div>
      <div class="anchor1" onclick="del(5)">
        <a>DELETE</a>
      </div>
      <p class="frag_place" style="background-color: black ;color:white"></p><br>
    </form>

    <form class="s_hide">
      <p> Your Seventh File </p>
      Starting block: <input id="file_no" type="number">
      Enter the size of the file: <input type="number">
      <!-- Enter the size of the block: <input type="number"> -->
      <div class="anchor">
        <a onclick="inside_form(6)">DONE</a>
      </div>
      <ul>
        <li class="s_hide"> Block_1: <input type="number"></li>
        <li class="s_hide"> Block_2: <input type="number"></li>
        <li class="s_hide"> Block_3: <input type="number"></li>
        <li class="s_hide"> Block_4: <input type="number"></li>
        <li class="s_hide"> Block_5: <input type="number"></li>
        <li class="s_hide"> Block_6: <input type="number"></li>
        <li class="s_hide"> Block_7: <input type="number"></li>
        <li class="s_hide"> Block_8: <input type="number"></li>
        <li class="s_hide"> Block_9: <input type="number"></li>
        <li class="s_hide"> Block_10:<input type="number"></li>
      </ul>
      <div class="anchor">
        <a onclick="allocate(6)">ALLOCATE</a>
      </div>
      <div class="anchor1" onclick="del(6)">
        <a>DELETE</a>
      </div>
      <p class="frag_place" style="background-color: black ;color:white"></p><br>
    </form>

    <form class="s_hide">
      <p> Your Eight File </p>
      Strating block: <input id="file_no" type="number">
      Enter the size of the file: <input type="number">
      <!-- Enter the size of the block: <input type="number"> -->
      <div class="anchor">
        <a onclick="inside_form(7)">DONE</a>
      </div>
      <ul>
        <li class="s_hide"> Block_1: <input type="number"></li>
        <li class="s_hide"> Block_2: <input type="number"></li>
        <li class="s_hide"> Block_3: <input type="number"></li>
        <li class="s_hide"> Block_4: <input type="number"></li>
        <li class="s_hide"> Block_5: <input type="number"></li>
        <li class="s_hide"> Block_6: <input type="number"></li>
        <li class="s_hide"> Block_7: <input type="number"></li>
        <li class="s_hide"> Block_8: <input type="number"></li>
        <li class="s_hide"> Block_9: <input type="number"></li>
        <li class="s_hide"> Block_10:<input type="number"></li>
      </ul>
      <div class="anchor">
        <a onclick="allocate(7)">ALLOCATE</a>
      </div>
      <div class="anchor1" onclick="del(7)">
        <a>DELETE</a>
      </div>
      <p class="frag_place" style="background-color: black ;color:white"></p><br>
    </form>

    <p id="error_check"></p>
    <h3>Allocation Scheme</h3>
    <div class="s_hide" id="output_space">
      <p class="out"></p>
      <p class="out"></p>
      <p class="out"></p>
      <p class="out"></p>
      <p class="out"></p>
      <p class="out"></p>
      <p class="out"></p>
      <p class="out"></p>

    </div>
  </div>

</body>

<script>
  /*to display the input fields*/
  var form_no = -1, show_output = -1;
  var file_ind = [];
  var blockSize;
  function show_fields() {
    var no_of_files = document.getElementById("nof").value;
    blockSize = document.getElementById("blockSiz").value;
    for (var i = 0; i < no_of_files; ++i)
      s_add_in();

  }

  function s_add_in() {
    form_no = form_no + 1;
    var f = document.getElementsByTagName("form")[form_no];

    var att = document.createAttribute("class");
    att.value = "s_show";

    f.setAttributeNode(att);
  }

  /*to display the block numbers*/
  var block_number = [];

  windows.onload = function () {
    initialise();
  };

  function initialise() {
    for (var i = 0; i < 8; ++i) {
      block_number.push(-1);
    }
    for (var i = 0; i < 1000; ++i)
      file_ind.push(-1);
  }

  function inside_form(form_numb) {
    var pos = 12 * form_numb;		//this is the base value
    /*		document.getElementById("sample").innerHTML = block_number[form_numb];*/
    var ch = check(form_numb);
    if (ch == 0)
      return;

    var file_size = document.getElementsByTagName("input")[pos + 3].value;
    //	var blockSize = document.getElementsByTagName("input")[pos+3].value;

    var no_of_blocks = (file_size / blockSize);
    var pos_li = form_numb * 10;
    for (var i = 0; i < no_of_blocks; ++i) {
      var f = document.getElementsByTagName("li")[pos_li + i];
      var att = document.createAttribute("class");
      att.value = "s_show";
      f.setAttributeNode(att);
    }

    var y = 3 * form_numb + 1;
    var f = document.getElementsByTagName("a")[y];
    var att = document.createAttribute("class");
    att.value = "s_show";
    f.setAttributeNode(att);
  }

  function check(in_num) {
    var len = file_ind.length;
    var z = in_num * 12 + 2;
    var index = document.getElementsByTagName("input")[z].value;

    if (file_ind[index] == 1) {
      alert("The file index " + index + "is already allocated");
      return 0;
    }
    else {
      file_ind[index] = 1;
      return 1;
    }
  }

  /*===================================ALLOCATION==============================*/


  function allocate(in_form) {
    var str = [];
    var pos = 12 * in_form;
    var values = in_form * 10;
    var file_size = document.getElementsByTagName("input")[pos + 3].value;
    //var blockSize = document.getElementsByTagName("input")[pos+3].value;

    var no_of_blocks = Math.ceil(file_size / blockSize);

    //for each and every entry check whether it is allocated or not
    for (var i = 0; i < no_of_blocks; ++i) {
      var x1 = document.getElementsByTagName("li")[values + i];	//this will give us the values+i th li element
      var x = x1.getElementsByTagName("input")[0].value;		// this will give us the 0th input element in the x1 li , we put 0 coz each 														li has only 1 input
      if (file_ind[x] == 1) {
        alert("The file index " + x + " is already allocated");
        for (var j = 0; j < i; ++j) {
          var x1 = document.getElementsByTagName("li")[values + j];	//this will give us the values+i th li element
          var x = x1.getElementsByTagName("input")[0].value;
          file_ind[x] = 0;
        }
        return;
      }

      else {
        file_ind[x] = 1;
      }

      if (i == no_of_blocks - 1) {
        alert("All the files have been allocated");
        var frag;
        frag = ((no_of_blocks) * blockSize) - file_size;
        if (frag != 0) {
          document.getElementsByClassName("frag_place")[in_form].innerHTML = "<h3>Internal Fragment :" + frag;
        }

        var f = document.getElementById("output_space");
        var att = document.createAttribute("class");
        att.value = "s_show";
        f.setAttributeNode(att);

        var index_value = document.getElementsByTagName("input")[pos + 2].value;
        str = str + index_value;

        if (no_of_blocks == (file_size / blockSize)) {
          for (var i = 0; i < no_of_blocks; ++i) {
            // im retriving the file number(block number) and put it in the chosen paragraphs
            var x1 = document.getElementsByTagName("li")[values + i];
            var x = x1.getElementsByTagName("input")[0].value;
            if (i == no_of_blocks - 1) {
              str = str + "--->" + x;
            }
            else {
              str = str + "--->" + x;
            }

            if (i == no_of_blocks - 1) {
              var k = document.getElementsByClassName("out")[in_form];
              k.innerHTML = str;

              if (in_form == 0) {
                k.style.backgroundColor = "white";
                k.style.color = "black";
              }
              if (in_form == 1) {
                k.style.backgroundColor = "white";
                k.style.color = "black";
              }
              if (in_form == 2) {
                k.style.backgroundColor = "white";
                k.style.color = "black";
              }
              if (in_form == 3) {
                k.style.backgroundColor = "white";
                k.style.color = "black";
              }
              if (in_form == 4) {
                k.style.backgroundColor = "white";
                k.style.color = "black";
              }
              if (in_form == 5) {
                k.style.backgroundColor = "white";
                k.style.color = "black";
              }
              if (in_form == 6) {
                k.style.backgroundColor = "white";
                k.style.color = "black";
              }
              if (in_form == 7) {
                k.style.backgroundColor = "white";
                k.style.color = "black";
              }
            }
          }
        }
        else {

          for (var i = 0; i < no_of_blocks; ++i) {
            var x1 = document.getElementsByTagName("li")[values + i];
            var x = x1.getElementsByTagName("input")[0].value;
            if (i == no_of_blocks - 1) {
              str = str + "--->" + x;
            }
            else {
              str = str + "--->" + x;
            }

            /* for file 1 give red,2->blue*/
            //here we style the output paragraph
            if (i == no_of_blocks - 1) {
              var k = document.getElementsByClassName("out")[in_form];
              k.innerHTML = str;

              if (in_form == 0) {
                k.style.backgroundColor = "white";
                k.style.color = "black";
              }
              if (in_form == 1) {
                k.style.backgroundColor = "white";
                k.style.color = "black";
              }
              if (in_form == 2) {
                k.style.backgroundColor = "white";
                k.style.color = "black";
              }
              if (in_form == 3) {
                k.style.backgroundColor = "white";
                k.style.color = "black";
              }
              if (in_form == 4) {
                k.style.backgroundColor = "white";
                k.style.color = "black";
              }
              if (in_form == 5) {
                k.style.backgroundColor = "white";
                k.style.color = "black";
              }
              if (in_form == 6) {
                k.style.backgroundColor = "white";
                k.style.color = "black";
              }
              if (in_form == 7) {
                k.style.backgroundColor = "white";
                k.style.color = "black";
              }
            }
          }
        }
      }
    }
  }

  function del(in_form) {
    var out_start = 0;
    //find the starting index of the output
    for (var i = 0; i < 8; ++i) {
      var pos = 12 * in_form;
      var values = in_form * 10;
      var file_size = document.getElementsByTagName("input")[pos + 3].value;
      //var blockSize = document.getElementsByTagName("input")[pos+3].value;

      var values = in_form * 10;

      var no_of_blocks = Math.ceil(file_size / blockSize);



      if (i == in_form) {
        file_ind[in_form] = 0;
        var k = document.getElementsByClassName("out")[in_form];
        k.innerHTML = "";
        for (var j = 0; j < no_of_blocks; ++j) {
          var x1 = document.getElementsByTagName("li")[values + j];	//this will give us the values+i th li element
          var x = x1.getElementsByTagName("input")[0].value;

          file_ind[x] = 0;
        }
      }

      out_start = out_start + no_of_blocks;
    }
  }

</script>

</html>