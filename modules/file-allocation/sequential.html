<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Sequential</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link rel="apple-touch-icon" sizes="180x180" href="../../../../assets/img/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../../assets/img/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../../assets/img/favicons/favicon-16x16.png">
  <link rel="manifest" href="../../assets/img/favicons/site.webmanifest">
  <link rel="mask-icon" href="../../assets/img/favicons/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="../../assets/img/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-config" content="../../assets/img/favicons/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
    rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="../../assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="../../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="../../assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="../../assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="../../assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="../../assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="../../assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="./../../assets/css/style.css" rel="stylesheet">

  <!-- EXTRA LINKS -->

  <link rel="stylesheet" href="./bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=PT+Sans" rel="stylesheet">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

  <!-- =======================================================
  * Template Name: Vesperr - v4.7.0
  * Template URL: https://bootstrapmade.com/vesperr-free-bootstrap-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->

  <!-- SCRIPT FOR THE PAGE-->
  <br>
  <title>Sequential Allocation</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OS Simulator</title>
  <meta name="description" content="Nifty Modal Window Effects with CSS Transitions and Animations" />
  <meta name="keywords"
    content="modal, window, overlay, modern, box, css transition, css animation, effect, 3d, perspective" />
  <meta name="author" content="Codrops" />
  <link rel="shortcut icon" href="../favicon.ico">
  <!-- <link rel="stylesheet" type="text/css" href="../Index Page/css/default.css" /> -->
  <!-- <link rel="stylesheet" type="text/css" href="../Index Page/css/component.css" /> -->
  <script src="js/modernizr.custom.js"></script>
  <style media="screen">
    .some {
      color: black;
    }

    input {
      width: 10%;
      padding: 12px 20px;
      margin: 8px 0;
      box-sizing: border-box;
      border: none;
      background-color: white;
      color: black;
    }



    button {
      background-color: black;
      /* Green */
      border: none;
      color: white;
      padding: 12px 20px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin: 8px 0;
      -webkit-transition-duration: 0.4s;
      /* Safari */
      transition-duration: 0.4s;
      cursor: pointer;
    }

    button:hover {
      background-color: #D3D3D3;
      color: black;
    }


    .button1 {
      background-color: black;
      /* Green */
      border: none;
      color: white;
      padding: 12px 20px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin: 8px 0;
      -webkit-transition-duration: 0.4s;
      /* Safari */
      transition-duration: 0.4s;
      cursor: pointer;

    }

    .button1:hover {
      background-color: #D3D3D3;
      color: black;
    }
  </style>

</head>







<body>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top d-flex align-items-center">
    <div class="container d-flex align-items-center justify-content-between">

      <div class="logo">
        <h1><a href="index.html">OS Mini Project</a></h1>
        <h3>Group 14</h3>
        <!-- Uncomment below if you prefer to use an image logo -->
        <!-- <a href="index.html"><img src="../../assets/img/logo.png" alt="" class="img-fluid"></a>-->
      </div>

      <nav id="navbar" class="navbar">
        <ul>
          <li><a class="nav-link scrollto " href="/index.html">Home</a></li>

      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->

  <main id="main">

    <!-- ======= Breadcrumbs Section ======= -->
    <section class="inner-page">
      <div class="container">
        <p>
          Example inner page template
        </p>
      </div>
    </section>


    <div class="container">

      <h1 class="some" behavior="alternate" scrollamount=10>Sequential Allocation</h1>

      <div id="sequ">


        <div class="visible1 form-group">
          <p>
            In this scheme, each file occupies a contiguous set of blocks on the disk. For example, if a file requires n
            blocks and is given a block b as the starting location, then the blocks assigned to the file will be: b,
            b+1,
            b+2,……b+n-1. This means that given the starting block address and the length of the file (in terms of blocks
            required), we can determine the blocks occupied by the file.
            The directory entry for a file with contiguous allocation contains

            Address of starting block
            Length of the allocated portion.
          </p>
          <br>
          <br>
          <p> Enter the size of memory(number of blocks)</p>
          <input id="nof" type="number" class="form-control">
          <button class="btn btn-primary s_done" onclick="getSize()">Submit</button>

          <br><br>

          <div class="s_form s_hide " id="vis2">
            <p> Please add file details </p>
            File name: <input id="file_name" type="text" class="form-control">
            File size(number of blocks): <input id="file_size" type="number" class="form-control">
            <button class="s_done btn btn-primary" onclick="addFile()">Add</button>
            <br>
          </div>
          <canvas id="can" width="1500" height="50" col></canvas>
          <p id="op1"></p>
          <p id="op"></p>
        </div>

  </main><!-- End #main -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
      class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="../../assets/vendor/purecounter/purecounter.js"></script>
  <script src="../../assets/vendor/aos/aos.js"></script>
  <script src="../../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="../../assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="../../assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="../../assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="../../assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="../../assets/js/main.js"></script>

</body>

<script>
  canv = document.getElementById("can");
  var ctx = canv.getContext("2d");

  var colors = new Array(200);
  var file_sizes = new Array(200);
  var file_names = new Array(200);
  var starts = new Array(200);
  var ends = new Array(200);
  var count = 0;
  var point = -1;
  var memSize;
  var a = 0, b = 0;
  function getSize() {
    memSize = document.getElementById("nof").value;
    if (memSize != "") {
      vis2 = document.getElementById("vis2");
      vis2.style.visibility = "visible";
      vis2.classList.remove("s_hide");
    }
    else
      alert("Please enter valid size!");
  }

  function addFile() {
    if (count == 0) {
      for (var i = 0; i < 200; i++) {
        colors[i] = color();
        file_sizes[i] = 0;
        file_names[i] = "";
        starts[i] = 0;
        ends[i] = 0;
      }
      start = 0;
      end = 0;

    }
    var name = document.getElementById("file_name").value;
    var size = document.getElementById("file_size").value;
    size = parseInt(size);
    if (name != "" && size != "") {
      if (point + size > memSize - 1) {
        alert("Cannot allocate!!");
      }
      else {

        //console.log(point, count, size);
        starts[count] = point + 1;
        point = ends[count] = point + size;

        file_names[count] = name;
        file_sizes[count] = size;
        count++;
        showOutput();
      }

    }
    else {
      alert("Please enter all details!!");
    }

  }

  function showOutput() {
    var str = "";
    ctx.fillStyle = "#f1f1f1";
    ctx.fillRect(0, 0, canv.width, canv.height);

    str += `<table class = "table">    
      <tr>
        <th> File Name </th>
        <th> Start Block </th>
        <th> End Block </th>
        <th> File Size </th>
      </tr>
      `

      ;
    for (var i = 0; i < count; i++) {
      str += `
      <tr>
        <td> ${file_names[i]} </td>
        <td> ${starts[i]} </td>
        <td> ${ends[i]} </td>
        <td> ${file_sizes[i]} </td>
      </tr>
      
      `;






      ctx.fillStyle = colors[i];
      ctx.fillRect(starts[i] * canv.width / memSize, 0, (ends[i] + 1 - starts[i]) * canv.width / memSize, canv.height);
      if ((ends[i] - starts[i]) * canv.width / memSize > 30) {
        ctx.font = "50px Georgia";
      }
      else {
        ctx.font = "20px Georgia";
      }
      ctx.strokeText(file_names[i], starts[i] * canv.width / memSize, canv.height * 3 / 4);
    }
    str += `</table>`
    document.getElementById("op").innerHTML = str;

  }

  function color() {
    var hex = '0123456789abcdef';
    var col = '#';
    for (i = 0; i < 6; i++)
      col += hex[Math.floor(Math.random() * 16)]
    return col;
  }

</script>

</html>